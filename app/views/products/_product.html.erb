<%= link_to product do %>
  <div id="<%= dom_id product %>" class="max-w-sm  shadow rounded-lg p-2 mx-auto text-gray-700">
  <%= image_tag product.images.first, class:"w-full h-60 object-cover rounded-lg hover:brightness-75 transition:all duration:250" if product.images.any?  %>

  <p class="my-5 text-black">
    <%= product.name %>
  </p>

  <p class="my-5 text-gray-700">
    $ <%= product.price %>
  </p>

 <p class="my-5 text-gray-700 flex items-center">
  <% if current_user.present? %>
    <% if current_user.favorited_products.include?(product) %>
      <%= link_to product_favorite_path(product), data: { turbo_method: :delete }, class: 'text-red-600' do %>
        <i class="fas fa-heart text-red-500 text-2xl hover:text-red-700 transition duration-300"></i>
      <% end %>
    <% else %>
      <%= link_to product_favorite_path(product), data: { turbo_method: :post }, class: 'text-green-600' do %>
        <i class="far fa-heart text-gray-500 text-2xl hover:text-gray-700 transition duration-300"></i>
      <% end %>
    <% end %>
  <% else %>
      <i class="far fa-heart text-gray-500 text-2xl hover:text-gray-700 transition duration-300"></i>
  <% end %>
      <span class="text-sm text-gray-600 ml-2"><%= product.favorites.count %></span>
</p>

</div>
<% end %>
